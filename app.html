<html>
    <head>
        <style>
            html, body, #wrapper
            {
                height: 100%;
                width: 100%;
                margin: 0;
                padding: 0;
            }
            
            /* Menu Screen */
            #menu-screen
            {
                background-color: #dba143;
                height: 100%;
                width: 100%;
                overflow:auto;
            }
            #title
            {
                position: absolute;
                left: 50%;
                top: 300px;
                transform: translate(-50%, -50%);             
                height:200px;
                width: 1000px;
                color: black;
                font-weight: 600;
                text-align: center;
                vertical-align: middle;
            }
            #title-top
            {
                position: absolute;
                top: 0;
                left: 0;
                font-family: 'Times New Roman';
                font-size: 30px;
                height:30px;
                width: 1000px;   
                transform:translate(10px, 0px);      
            }
            #title-bottom
            {
                position: absolute;
                top:0px;
                height:200px;
                width: 1000px;
                font-size: 170px;
                font-family: 'Brush Script MT', 'Brush Script Std', cursive;   
            }
            #start-button
            {
                height:50px;
                width:300px;
                position: absolute;
                left: 50%;
                top: 500px;
                transform: translate(-50%, -50%);
            }
            #example-button
            {
                height:30px;
                width:200px;
                position: absolute;
                left: 50%;
                top: 800px;
                transform: translate(-50%, -50%);
            }
            #number-of-dots-selector-box
            {
                height:20px;
                width:200px;
                text-align: center;
                position: absolute;
                left: 50%;
                top: 600px;
                transform: translate(-50%, -50%);
            }
            #number-of-dots-selector-box #number-of-dots-selector
            {
                width: 50px;
                padding: 0px 0px 0px 15px;
                text-align: center;
                text-align-last: center;
            }
            #difficulty-selector-box
            {
                height:20px;
                width:150px;
                text-align: center;
                text-align-last: center;
                position: absolute;
                left: 50%;
                top: 700px;
                transform: translate(-50%, -50%);
            }
            
            /* Game Screen */
            #game-screen
            {
                background-color: #dba143;
                height: 100%;
                width: 100%;
            }
            .node
            {
                height:100px;
                width: 100px;
                background-color: red;
                border: black 7px solid;
                border-radius: 100px;
                position:absolute;
                transform:translate(-50%, -50%);
            }
            .leftHalf
            {
                height: 100px;
                width: 50px;
                position:absolute;
                transform:translate(0, 0);
            }
            .rightHalf
            {
                height: 100px;
                width: 50px;
                position:absolute;
                transform:translate(+50px, 0);
                
            }
            .value
            {
                position:absolute;
                transform:translate(-50%, -50%);
                z-index: 4;
                font-size: 60px;
                font-family: 'Courier New', Courier, monospace;
                font-weight: bolder;
                pointer-events: none
            }
            
            
            /* Example Game */
            #example-game-screen
            {
                background-color: #dba143;
                height: 100%;
                width: 100%;
                display:none;
            }
            #victory-screen
            {
                background-color: #dba143;
                height: 100%;
                width: 100%;
            }
            #victory-text
            {
                position: absolute;
                left: 50%;
                top: 300px;
                transform: translate(-50%, -50%);             
                height:200px;
                width: 1000px;
                color: black;
                font-size: 65px;
                font-weight: 600;
                text-align: center;
                vertical-align: middle;
            }
            #victory-text-p
            {
                color: red;
                font-weight: bolder;
            }
        </style>    
        <script>
            //var app;
            var node1;
            var node2;
            var node3;
            var node4;
            var node5;
            var node6;
            var node7;
            var node8;
            var node9;
            var node10;
            var node11;
            var moves = 0;
            var nodes;

            function startApp()
            {
                //app = new App();
                //app.loadMenuScreen();
                launchExampleGame();
            }

            /*function startGameFromMenu()
            {
                app.game.startGame(document.getElementById("number-of-dots-selector").value, document.getElementById("difficulty-selector").value);
                app.loadGameScreen();   
            }*/

            function launchExampleGame()
            {
                var wrapper = document.getElementById("wrapper");
                wrapper.removeChild(wrapper.lastChild);

                document.getElementById("example-game-screen").style.display = "block";
                node1 = new Node(4, [5, 9], 1);
                node2 = new Node(-2, [6, 7], 2);
                node3 = new Node(2, [4, 5], 3);
                node4 = new Node(8, [3, 6], 4);
                node5 = new Node(1, [1, 3, 7], 5);
                node6 = new Node(1, [2, 4, 8], 6);
                node7 = new Node(3, [2, 5, 10], 7);
                node8 = new Node(4, [6, 11], 8);
                node9 = new Node(5, [1, 11], 9);
                node10 = new Node(2, [7, 11], 10);
                node11 = new Node(3, [8, 9, 10], 11);

                nodes = [node1,node2,node3,node4,node5,node6,node7,node8,node9,node10,node11];
                for (var nodeIndex in nodes){ node = nodes[nodeIndex];
                    node.connectNodes();
                    node.presentValue();
                }
            }
            function checkVictory()
            {
                var victory = true;
                for (var nodeIndex in nodes){ node = nodes[nodeIndex];
                    if (node.value < 0){
                        victory = false;
                    }
                }

                if (victory)
                {
                    var wrapper = this.document.getElementById("wrapper");
                    wrapper.removeChild(this.document.getElementById("example-game-screen"));
                    wrapper.innerHTML += ''
                    +'<div id="victory-screen">'
                    +'  <div id="victory-text">'
                    +'      You achieved victory in <strong id="victory-text-p">'+moves+'</strong> moves! Congratulations!'
                    +'  </div>'
                    +'</div>';
                }
            }

            function give1()
            {
                node1.give();
            }
            function give2()
            {
                node2.give();
            }
            function give3()
            {
                node3.give();
            }
            function give4()
            {
                node4.give();
            }
            function give5()
            {
                node5.give();
            }
            function give6()
            {
                node6.give();
            }
            function give7()
            {
                node7.give();
            }
            function give8()
            {
                node8.give();
            }
            function give9()
            {
                node9.give();
            }
            function give10()
            {
                node10.give();
            }
            function give11()
            {
                node11.give();
            }
            function take1()
            {
                node1.take();
            }
            function take2()
            {
                node2.take();
            }
            function take3()
            {
                node3.take();
            }
            function take4()
            {   
                node4.take();
            }
            function take5()
            {
                node5.take();
            }
            function take6()
            {
                node6.take();
            }
            function take7()
            {
                node7.take();
            }
            function take8()
            {
                node8.take();
            }
            function take9()
            {
                node9.take();
            }
            function take10()
            {
                node10.take();
            }
            function take11()
            {
                node11.take();
            }


            class Node
            {
                constructor(value, connections, id)
                {
                    this.value = value;
                    this.connectionNums = connections;
                    this.connectedNodes = [];
                    this.id = id
                }

                connectNodes()
                {
                    while(this.connectionNums.length != 0)
                    {
                        switch (this.connectionNums[0])
                        {
                            case 1:
                                this.connectedNodes.push(node1);
                                break;
                            case 2:
                                this.connectedNodes.push(node2);
                                break;
                            case 3:
                                this.connectedNodes.push(node3);
                                break;
                            case 4:
                                this.connectedNodes.push(node4);
                                break;
                            case 5:
                                this.connectedNodes.push(node5);
                                break;
                            case 6:
                                this.connectedNodes.push(node6);
                                break;
                            case 7:
                                this.connectedNodes.push(node7);
                                break;
                            case 8:
                                this.connectedNodes.push(node8);
                                break;
                            case 9:
                                this.connectedNodes.push(node9);
                                break;
                            case 10:
                                this.connectedNodes.push(node10);
                                break;
                            case 11:
                                this.connectedNodes.push(node11);
                                break;
                        }
                        this.connectionNums.shift();
                    }
                }

                give()
                {
                    moves++;
                    for (var connectionIndex in this.connectedNodes){ var connectedNode = this.connectedNodes[connectionIndex];
                        connectedNode.increaseValue();
                        this.decreaseValue();
                    }
                    checkVictory();
                }

                take()
                {
                    moves++;
                    for (var connectionIndex in this.connectedNodes){ var connectedNode = this.connectedNodes[connectionIndex];
                        connectedNode.decreaseValue();
                        this.increaseValue();
                    }
                    checkVictory();
                }

                presentValue()
                {
                    switch (this.id)
                    {
                        case 1:
                            document.getElementById("1").innerText = this.value;
                            break;
                        case 2:
                            document.getElementById("2").innerText = this.value;
                            break;
                        case 3:
                            document.getElementById("3").innerText = this.value;
                            break;
                        case 4:
                            document.getElementById("4").innerText = this.value;
                            break;
                        case 5:
                            document.getElementById("5").innerText = this.value;
                            break;
                        case 6:
                            document.getElementById("6").innerText = this.value;
                            break;
                        case 7:
                            document.getElementById("7").innerText = this.value;
                            break;
                        case 8:
                            document.getElementById("8").innerText = this.value;
                            break;
                        case 9:
                            document.getElementById("9").innerText = this.value;
                            break;
                        case 10:
                            document.getElementById("10").innerText = this.value;
                            break;
                        case 11:
                            document.getElementById("11").innerText = this.value;
                            break;
                    }
                }

                increaseValue()
                {
                    this.value++;
                    this.presentValue();
                }
                decreaseValue()
                {
                    this.value--;
                    this.presentValue();
                }
            }































            /*
            class App
            {
                constructor()
                {
                    this.game = new Game();
                }

                loadMenuScreen()
                {       
                    wrapper.innerHTML += ''
                    +'<div id="menu-screen">'
                    +'  <div id="title">'
                    +'      <div id="title-top">The</div>'
                    +'      <div id="title-bottom">Cash Game</div> '
                    +'  </div>'
                    +'  <button id="start-button" onclick="startGameFromMenu()">Start Game</button>'
                    +'  <div id="number-of-dots-selector-box">'
                    +'      Number of Dots:</br>'
                    +'      <input id="number-of-dots-selector" type="number" name="num_of_dots" min="2" max="10" value="2">'
                    +'  </div>'
                    +'  <div id="difficulty-selector-box">'
                    +'      Difficulty:</br>'
                    +'      <select id="difficulty-selector">'
                    +'         <option value="easy">Easy</option>'
                    +'         <option value="medium">Medium</option>'
                    +'         <option value="hard">Hard</option>'
                    +'         <option value="impossible">Probably Impossible</option>'
                    +'      </select>'
                    +'  </div>'
                    +'  <button id="example-button" onclick="launchExampleGame()">Play Example Game</button>'
                    +'</div>';
                }

                loadGameScreen()
                {
                    wrapper.innerHTML = ''
                    +'<div id="game-screen">'
                    +'</div>';
                    this.game.prepareTree();
                }

                addNodeToScreen(node)
                {
                    var gameScreen = document.getElementById("game-screen");
                    gameScreen.innerHTML += '<div class="node" style="left: '+node.x+'px; top: '+node.y+'px"></div>';
                    for (var connectionIndex in node.connections)
                    {
                        var connection = node.connections[connectionIndex];
                        gameScreen.innerHTML += ''
                            +'<svg height="900" width="900">'
                            +'<polyline points="'+node.x+','+node.y+' '+connection.x+','+connection.y+'" style="fill:none;stroke:black;stroke-width:6"></polyline>'
                            +'</svg>';
                    }
                }
            }

            class Game
            {
                constructor(numberOfDots, difficulty)
                {
                    this.numberOfDots = numberOfDots;
                    this.difficulty = difficulty;
                    this.nodes =[];
                }

                startGame(num_of_dots, difficulty)
                {
                    this.numberOfDots = num_of_dots;
                    this.difficulty = difficulty;
                    console.log("Starting The Cash Game on "+difficulty+" with "+num_of_dots+" dots!");  
                }

                prepareTree()
                {
                    //var integers = getRandomIntegers();
                    for (var i=0;i<this.numberOfDots;i++)
                    {    
                        if (i == 0)
                        {
                            this.nodes[i] = new Node().getNextNode(true);
                        }
                        else
                        {
                            this.nodes[i] = this.nodes[i-1].getNextNode();
                        }
                    }
                }

                getRandomIntegers()
                {
                    var integers = [];
                    for (var i=0;i<this.numberOfDots;i++)
                    {
                        integers[i] = Math.floor(Math.random() * 11) - 5;
                    }
                    switch (difficulty)
                    {
                        case "easy":
                            if (this.valuesTotal(integers) == 10)
                                return integers;
                            break;
                        case "medium":
                                if (this.valuesTotal(integers) == 5)
                                return integers;
                            break;
                        case "hard":
                                if (this.valuesTotal(integers) == 0)
                                return integers;    
                            break;
                        case "impossible":
                                if (this.valuesTotal(integers) == -10)
                                return integers;    
                            break;
                    }
                    return getRandomIntegers();
                }

                valuesTotal(integers)
                {
                    var sum = 0;
                    for (intIndex in integers)
                    {
                        sum += integers[intIndex];
                    }
                    return sum;
                }
            }

            class Node
            {
                constructor(value, connections, location)
                {
                    this.value = (value != null) ? value : 0;
                    this.connections = (connections != null) ? connections : [];
                    this.location = (location != null) ? location : [];
                    if (location != null)
                    {
                        this.x = location[0];
                        this.y = location[1];
                    }
                }

                getNextNode(first)
                {
                    var newNode;
                    if (first)
                    {
                        newNode = new Node(null, null, [screen.width / 2 - 200, screen.height / 2]); 
                    }
                    else
                    {
                        newNode = new Node();
                        var direction = Math.floor(Math.random() * 8);
                        switch (direction)
                        {
                            case 0:
                                newNode.x = this.x;
                                newNode.y = this.y - 150;
                                break;
                            case 1:
                                newNode.x = this.x + 150;
                                newNode.y = this.y - 150;
                                break;
                            case 2:
                                newNode.x = this.x + 150;
                                newNode.y = this.y;
                                break;
                            case 3:
                                newNode.x = this.x + 150;
                                newNode.y = this.y + 150;
                                break;
                            case 4:
                                newNode.x = this.x;
                                newNode.y = this.y + 150;
                                break;
                            case 5:
                                newNode.x = this.x - 150;
                                newNode.y = this.y + 150;
                                break;
                            case 6:
                                newNode.x = this.x - 150;
                                newNode.y = this.y;
                                break;
                            case 7:
                                newNode.x = this.x - 150;
                                newNode.y = this.y - 150;
                                break;
                        }
                        while (true)
                        {
                            for (var nodeIndex in app.game.nodes)
                            {
                                var connected = Math.floor(Math.random() * 2);
                                if (connected == 0)
                                {
                                    newNode.connections.push(app.game.nodes[nodeIndex]);
                                    app.game.nodes[nodeIndex].connections.push(newNode)
                                }
                            }
                            
                            if (newNode.connections != null && newNode.connections.length > 0)
                            {
                                break;
                            }
                        }
                    }   

                    app.addNodeToScreen(newNode);
                    return newNode;
                }
            }*/
        </script>
    </head>
    <body onload="startApp()">
        
        <div id="wrapper">
            <div id="example-game-screen">
                <div class="node" style="left: 700px; top: 420px"><div class="leftHalf"onclick="take2();"></div><div class="rightHalf"  onclick="give2();"></div></div><!---2-->
                <div class="node" style="left: 350px; top: 400px"><div class="leftHalf"onclick="take1();"></div><div class="rightHalf"  onclick="give1();"></div></div><!--4-->
                <div class="node" style="left: 150px; top: 600px"><div class="leftHalf"onclick="take3();"></div><div class="rightHalf"  onclick="give3();"></div></div><!--2-->
                <div class="node" style="left: 150px; top: 900px"><div class="leftHalf"onclick="take4();"></div><div class="rightHalf"  onclick="give4();"></div></div><!--8-->
                <div class="node" style="left: 450px; top: 620px"><div class="leftHalf"onclick="take5();"></div><div class="rightHalf"  onclick="give5();"></div></div><!---1-->
                <div class="node" style="left: 430px; top: 890px"><div class="leftHalf"onclick="take6();"></div><div class="rightHalf"  onclick="give6();"></div></div><!--1-->
                <div class="node" style="left: 750px; top: 800px"><div class="leftHalf"onclick="take7();"></div><div class="rightHalf"  onclick="give7();"></div></div><!--3-->
                <div class="node" style="left: 600px; top: 1030px"><div class="leftHalf"onclick="take8();"></div><div class="rightHalf"  onclick="give8();"></div></div><!---4-->
                <div class="node" style="left: 330px; top: 1200px"><div class="leftHalf"onclick="take9();"></div><div class="rightHalf"  onclick="give9();"></div></div><!---5-->
                <div class="node" style="left: 670px; top: 1300px"><div class="leftHalf" onclick="take10();"></div><div class="rightHalf" onclick="give10();"></div></div><!---2-->
                <div class="node" style="left: 400px; top: 1500px" ><div class="leftHalf" onclick="take11();"></div><div class="rightHalf" onclick="give11();"></div></div><!---3-->
                <svg height="3000px" width="3000px" style="background:#dba143">
                    <polyline points="350, 400 450, 620" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="350, 400 330, 1200" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="700, 420 430, 890" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="700, 420 750, 800" style="fill:none;stroke:black;stroke-width:6"></polyline>

                    <polyline points="430, 890 150, 900" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="150, 900 150, 600" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="150, 600 450, 620" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="450, 620 750, 800" style="fill:none;stroke:black;stroke-width:6"></polyline>

                    <polyline points="430, 890 600, 1030" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="600, 1030 400, 1500" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="400, 1500 330, 1200" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="400, 1500 670, 1300" style="fill:none;stroke:black;stroke-width:6"></polyline>
                    <polyline points="670, 1300 750, 800" style="fill:none;stroke:black;stroke-width:6"></polyline>
                </svg>;
                <div id="1" class="value" style="left: 350px; top: 400px" ></div><!--4-->
                <div id="2" class="value" style="left: 700px; top: 420px" ></div><!---2-->
                <div id="3" class="value" style="left: 150px; top: 600px" ></div><!--2-->
                <div id="4" class="value" style="left: 150px; top: 900px" ></div><!--8-->
                <div id="5" class="value" style="left: 450px; top: 620px" ></div><!---1-->
                <div id="6" class="value" style="left: 430px; top: 890px" ></div><!--1-->
                <div id="7" class="value" style="left: 750px; top: 800px" ></div><!--3-->
                <div id="8" class="value" style="left: 600px; top: 1030px" ></div><!---4-->
                <div id="9" class="value" style="left: 330px; top: 1200px" ></div><!---5-->
                <div id="10" class="value" style="left: 670px; top: 1300px" ></div><!---2-->
                <div id="11" class="value" style="left: 400px; top: 1500px" ></div><!---3-->
            </div>
        </div>

    </body>
</html>
